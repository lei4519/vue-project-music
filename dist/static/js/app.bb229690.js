(function(t){function e(e){for(var i,r,c=e[0],o=e[1],l=e[2],u=0,d=[];u<c.length;u++)r=c[u],s[r]&&d.push(s[r][0]),s[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);h&&h(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},s={app:0},a=[];function c(t){return o.p+"static/js/"+({}[t]||t)+"."+{"chunk-16f77578":"f1310b1e","chunk-2465e972":"3e47b8dd","chunk-308a984a":"2c6e5b3f","chunk-9b789f94":"e8e741cc","chunk-a25d2298":"356e1952","chunk-c78214d6":"5a668f20"}[t]+".js"}function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-16f77578":1,"chunk-2465e972":1,"chunk-308a984a":1,"chunk-9b789f94":1,"chunk-a25d2298":1,"chunk-c78214d6":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var i="static/css/"+({}[t]||t)+"."+{"chunk-16f77578":"07097421","chunk-2465e972":"95251d08","chunk-308a984a":"0c69e31b","chunk-9b789f94":"9fc07bd3","chunk-a25d2298":"4d32b052","chunk-c78214d6":"2ec382c4"}[t]+".css",s=o.p+i,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var l=a[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===s))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===i||u===s)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var i=e&&e.target&&e.target.src||s,a=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");a.request=i,delete r[t],h.parentNode.removeChild(h),n(a)},h.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(h)}).then(function(){r[t]=0}));var i=s[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise(function(e,n){i=s[t]=[e,n]});e.push(i[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=c(t),l=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=s[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+i+": "+r+")");a.type=i,a.request=r,n[1](a)}s[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var h=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0236":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{directives:[{name:"show",rawName:"v-show",value:t.searches.length,expression:"searches.length"}],staticClass:"search-list",attrs:{tag:"ul",name:"list"}},t._l(t.searches,function(e,i){return n("li",{key:e,staticClass:"item"},[n("span",{staticClass:"text",on:{click:function(e){return t.select(e)}}},[t._v(t._s(e))]),n("span",{staticClass:"delete",on:{click:function(n){return t.deleteOne(e)}}},[n("i",{staticClass:"icon-delete"})])])}),0)},r=[],s={props:{searches:{type:Array,default:[]}},methods:{select:function(t){this.$emit("select",t)},deleteOne:function(t){this.$emit("deleteOne",t)}}},a=s,c=(n("7602"),n("d2f3")),o=Object(c["a"])(a,i,r,!1,null,"4ba8db0b",null);e["a"]=o.exports},"046d":function(t,e,n){},"0746":function(t,e,n){},"0a1a":function(t,e,n){},"0a97":function(t,e,n){"use strict";var i=n("cf60"),r=n.n(i);r.a},1925:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d});n("b5aa");var i=n("4457"),r=n("ab01"),s=n.n(r),a=n("5693"),c=n("da71"),o=n("cebe"),l=n.n(o);function u(){var t="https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg",e=s()({},c["b"],{platform:"h5",uin:0,needNewCode:1});return Object(a["a"])(t,e,c["c"])}function d(t){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,i,r,a,o,u=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,i=!(u.length>2&&void 0!==u[2])||u[2],r=u.length>3&&void 0!==u[3]?u[3]:20,a="/getSearchList",o=s()({},c["b"],{platform:"h5",needNewCode:1,w:e,zhidaqu:1,catZhida:i?1:0,t:0,format:"json",flag:1,ie:"utf-8",sem:1,aggr:0,perpage:r,n:r,p:n,remoteplace:"txt.mqq.all"}),t.next=7,l.a.get(a,{params:o});case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)})),h.apply(this,arguments)}},"1a93":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"confirm-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"confirm",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"confirm-wrapper"},[n("div",{staticClass:"confirm-content"},[n("div",{staticClass:"text",domProps:{textContent:t._s(t.title)}}),n("div",{staticClass:"operate"},[n("div",{staticClass:"operate-btn left",domProps:{textContent:t._s(t.cancelBtnText)},on:{click:t.cancel}}),n("div",{staticClass:"operate-btn",domProps:{textContent:t._s(t.confirmBtnText)},on:{click:t.consent}})])])])])])},r=[],s={data:function(){return{showFlag:!1}},props:{title:{type:String,default:"是否清空播放列表"},confirmBtnText:{type:String,default:"确认"},cancelBtnText:{type:String,default:"取消"}},methods:{show:function(){this.showFlag=!0},hide:function(){this.showFlag=!1},cancel:function(){this.hide(),this.$emit("cancel")},consent:function(){this.hide(),this.$emit("consent")}}},a=s,c=(n("8477"),n("d2f3")),o=Object(c["a"])(a,i,r,!1,null,"4d20c3a5",null);e["a"]=o.exports},"1ad3":function(t,e,n){},"1cb8":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading"},[i("img",{attrs:{width:"24",height:"24",src:n("5a95")}}),i("p",{staticClass:"desc"},[t._v(t._s(t.title))])])},r=[],s={props:{title:{type:String,default:"正在加载..."}}},a=s,c=(n("817f"),n("d2f3")),o=Object(c["a"])(a,i,r,!1,null,"05235406",null);e["a"]=o.exports},"202d":function(t,e,n){},2909:function(t,e,n){},"2b89":function(t,e,n){"use strict";var i=n("8cbf"),r=n.n(i);r.a},"2da3":function(t,e,n){"use strict";var i=n("459f"),r=n.n(i);r.a},3173:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("music-list",{attrs:{title:t.title,bgImg:t.bgImg,songs:t.songs}})],1)},r=[],s=(n("b5aa"),n("4457")),a=(n("3a23"),n("bd31")),c=n("5880"),o=n("7f5c"),l=n("da71"),u=n("f5de"),d=n("5362"),h={created:function(){if(!this.singer.id)return this.$router.back();this._getSingerDetail(this.singer.id)},data:function(){return{songs:[]}},computed:Object(a["a"])({},Object(c["mapGetters"])(["singer"]),{title:function(){return this.singer.name},bgImg:function(){return this.singer.avatar}}),methods:{_getSingerDetail:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])(e);case 2:n=t.sent,n.code===l["a"]&&(i=n.data.list.map(function(t){return t.musicData}),this._normalizeSongs(i));case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),_normalizeSongs:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=Object(u["b"])(e),this.songs=n.next().value,n.next();case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},components:{musicList:d["a"]}},f=h,p=(n("6d0d"),n("d2f3")),m=Object(p["a"])(f,i,r,!1,null,"7ad77661",null);e["default"]=m.exports},"38d2":function(t,e,n){"use strict";var i=n("046d"),r=n.n(i);r.a},"38f5":function(t,e,n){},"3af9":function(t,e,n){"use strict";var i=n("9f40"),r=n.n(i);r.a},"3e2c":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return d});var i=n("0ec6"),r=n.n(i);n("5f33"),n("ea65");function s(t,e){if(a(t,e))return!1;var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}function a(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)}function c(t,e,n){var i="data-";return e=i+e,n?t.setAttribute(e,n):t.getAttribute(e)}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={$event:{},el:t,startY:0,endY:0,startX:0,endX:0,stop:n};t.addEventListener("touchstart",function(t){return i.stop&&t.stopPropagation(),i.startX=t.changedTouches[0].clientX,i.startY=t.changedTouches[0].clientY,!1}),t.addEventListener("touchend",function(t){return i.stop&&t.stopPropagation(),i.$event=t,i.endX=t.changedTouches[0].clientX,i.endY=t.changedTouches[0].clientY,e&&e(i),!1})}var l=document.createElement("div").style,u=function(){for(var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"},e=r()(t),n=0;n<e.length;n++){var i=e[n];if(void 0!==l[t[i]])return i}return!1}();function d(t){if(!1!==u)return"standard"===u?t:"".concat(u).concat(t.charAt(0).toUpperCase()).concat(t.substr(1))}},"3fa4":function(t,e,n){},"41ea":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={sequence:0,loop:1,random:2}},"42ba":function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});n("b5aa");var i=n("4457"),r=n("ab01"),s=n.n(r),a=n("5693"),c=n("da71"),o=n("cebe"),l=n.n(o);function u(){var t="https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg",e=s()({},c["b"],{platform:"h5",uin:0,needNewCode:1});return Object(a["a"])(t,e,c["c"])}function d(){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e="/getDiscList",n=s()({},c["b"],{hostUin:0,platform:"yqq",rnd:Math.random(),needNewCode:0,categoryId:1e7,sortId:5,sin:0,ein:29,format:"json"}),t.next=4,l.a.get(e,{params:n});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)})),h.apply(this,arguments)}function f(){return p.apply(this,arguments)}function p(){return p=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,i,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:0,n="/getDiscInfo",i=s()({},c["b"],{type:1,json:1,utf8:1,onlysong:0,disstid:e,g_tk:5381,loginUin:0,hostUin:0,format:"json",platform:"yqq",needNewCode:0}),t.next=5,l.a.get(n,{params:i});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)})),p.apply(this,arguments)}},"434f":function(t,e,n){},"459f":function(t,e,n){},"510f":function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"e",function(){return d}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return f}),n.d(e,"a",function(){return p});n("3a23"),n("612f");var i=n("26df"),r=n.n(i),s=n("0ec6"),a=n.n(s),c=n("bd31"),o=n("5880"),l=n("41ea"),u={computed:Object(c["a"])({},Object(o["mapGetters"])(["playList"])),mounted:function(){this.handelPlayList(this.playList)},activated:function(){this.handelPlayList(this.playList)},watch:{playList:function(t){this.handelPlayList(t)}},methods:{handelPlayList:function(){throw new Error("component must implement handelPlayList method")}}},d={computed:Object(c["a"])({modeIcon:function(){return"icon-".concat(this.modeArr[this.mode])}},Object(o["mapGetters"])(["mode"])),created:function(){this.modeArr=a()(l["a"])},methods:Object(c["a"])({togglePlayMode:function(){var t=this.mode;t=t+1>=this.modeArr.length?0:t+1,this.setPlayMode(l["a"][this.modeArr[t]])}},Object(o["mapMutations"])({setPlayMode:"SET_PLAY_MODE"}))},h={data:function(){return{query:""}},computed:Object(c["a"])({},Object(o["mapGetters"])(["searchHistory"])),methods:Object(c["a"])({setQuery:function(t){var e=t.target;"SPAN"!==e.tagName&&"LI"!==e.tagName||(this.query=e.innerText,this.$refs.searchBox.setQuery(e.innerText))}},Object(o["mapActions"])(["delSearchHistory"]))},f={methods:Object(c["a"])({saveSearch:function(){this.saveSearchHistory(this.query)}},Object(o["mapActions"])(["saveSearchHistory"]))},p={data:function(){return{diff:this.currentSong||{}}},computed:Object(c["a"])({favoriteIdList:function(){var t=new r.a;return this.favoriteList.forEach(function(e){return t.set(e.id,e.name)}),t}},Object(o["mapGetters"])(["favoriteList","currentSong"])),methods:Object(c["a"])({getFavoriteIcon:function(t){var e=this.favoriteIdList.has(t.id);return e?"icon-favorite":"icon-not-favorite"},toggleFavorite:function(t){var e=this.favoriteIdList.has(t.id);e?this.delFavoriteList(t):this.saveFavoriteList(t)}},Object(o["mapActions"])(["saveFavoriteList","delFavoriteList"]))}},"51ec":function(t,e,n){"use strict";var i=n("0746"),r=n.n(i);r.a},5362:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"singerDetail",staticClass:"music-list"},[n("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.title)}}),n("div",{ref:"cover",staticClass:"cover",class:{fixed:!t.isPlayShow},style:t.bgStyle},[n("div",{staticClass:"random-play"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isPlayShow&&t.isSongShow,expression:"isPlayShow&&isSongShow"}],staticClass:"play",on:{click:function(e){return t.randomPlay({list:t.songs})}}},[n("i",{staticClass:"icon-play"}),n("span",{staticClass:"text"},[t._v("随机播放全部")])])]),n("div",{ref:"filter",staticClass:"filter"})]),n("div",{ref:"bgLayer",staticClass:"bg-layer"}),n("scroll",{ref:"list",staticClass:"list",style:{top:t.coverHeight+"px"},attrs:{data:t.songs,listenScroll:t.listenScroll,probeType:t.probeType},on:{scroll:t.scroll}},[n("div",{staticClass:"song-list-wrapper"},[n("song-list",{attrs:{songs:t.songs,isRank:t.isRank},on:{select:t.selectItem}})],1)]),n("div",{staticClass:"back",on:{click:t.back}},[n("i",{staticClass:"icon-back"})]),n("loading",{directives:[{name:"show",rawName:"v-show",value:!t.isSongShow,expression:"!isSongShow"}]})],1)},r=[],s=n("bd31"),a=n("0ec6"),c=n.n(a),o=n("e9fc"),l=n("7920"),u=n("1cb8"),d=n("3e2c"),h=n("510f"),f=n("5880"),p=40,m=Object(d["c"])("transform"),g=Object(d["c"])("backdrop-filter"),v={mixins:[h["b"]],props:{title:{type:String,default:""},bgImg:{type:String,default:""},songs:{type:Array,default:[]},isRank:{type:Boolean,default:!1}},created:function(){this.probeType=3,this.listenScroll=!0},mounted:function(){var t=this;this.coverHeight=this.$refs.cover.clientHeight,this.minTranslateY=-this.coverHeight+p,Object(d["d"])(this.$refs.singerDetail,function(e){var n=e.el.clientWidth/2;Math.abs(e.startX-e.endX)<n||e.startX-e.endX<0&&t.back()})},data:function(){return{scrollY:0,isPlayShow:!0,coverHeight:0}},computed:{isSongShow:function(){return c()(this.songs).length},bgStyle:function(){return"background-image: url(".concat(this.bgImg,")")}},watch:{scrollY:function(t){var e=0,n=0,i=Math.max(this.minTranslateY,t);this.$refs.bgLayer.style[m]="translateY(".concat(i,"px)");var r=Math.abs(t/this.coverHeight);t>=this.minTranslateY?this.isPlayShow=!0:(e=10,this.isPlayShow=!1),t>0?(e=10,this.$refs.cover.style[m]="scale(".concat(1+r,")")):n=Math.min(20*r,20),this.$refs.filter.style[g]="blur(".concat(n,"px)"),this.$refs.cover.style.zIndex=e}},methods:Object(s["a"])({handelPlayList:function(t){var e=t.length>0?"60px":"";this.$refs.list.$el.style.bottom=e,this.$refs.list.refresh()},scroll:function(t){this.scrollY=t.y},back:function(){this.$router.back()},selectItem:function(t,e){this.selectPlay({list:this.songs,index:e})}},Object(f["mapActions"])(["selectPlay","randomPlay"])),components:{Scroll:o["a"],songList:l["a"],Loading:u["a"]}},y=v,b=(n("d154"),n("d2f3")),w=Object(b["a"])(y,i,r,!1,null,"6c49c12c",null);e["a"]=w.exports},5422:function(t,e,n){},"54ac":function(t,e,n){"use strict";var i=n("9cdb"),r=n.n(i);r.a},5693:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("a700"),r=n.n(i),s=(n("e0c1"),n("93fe"),n("f187")),a=n.n(s);function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t+=(t.includes("?")?"& ":"?")+o(e),new r.a(function(e,i){a()(t,n,function(t,n){t?i(t):e(n)})})}function o(t){var e="";for(var n in t){var i=void 0!==t[n]?t[n]:"";e+="&".concat(n,"=").concat(encodeURIComponent(i))}return e?e.substring(1):""}},"56d7":function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"singer",function(){return Ge}),n.d(i,"playing",function(){return ze}),n.d(i,"fullScreen",function(){return $e}),n.d(i,"playList",function(){return Ye}),n.d(i,"sequenceList",function(){return Fe}),n.d(i,"mode",function(){return Ze}),n.d(i,"currentIndex",function(){return Je}),n.d(i,"currentSong",function(){return Qe}),n.d(i,"disc",function(){return Ve}),n.d(i,"rank",function(){return Xe}),n.d(i,"searchHistory",function(){return Ke}),n.d(i,"playHistory",function(){return tn}),n.d(i,"favoriteList",function(){return en});var r={};n.r(r),n.d(r,"selectPlay",function(){return nn}),n.d(r,"randomPlay",function(){return rn}),n.d(r,"insertSong",function(){return sn}),n.d(r,"delSong",function(){return an}),n.d(r,"saveSearchHistory",function(){return cn}),n.d(r,"delSearchHistory",function(){return on}),n.d(r,"clearSearchHistory",function(){return ln}),n.d(r,"clearPlayList",function(){return un}),n.d(r,"savePlayHistory",function(){return dn}),n.d(r,"saveFavoriteList",function(){return hn}),n.d(r,"delFavoriteList",function(){return fn});n("5c07"),n("53da"),n("2556"),n("d0f8");var s,a=n("8bbf"),c=n.n(a),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app",on:{"~click":function(e){return t.iosTiggerPlayer(e)}}},[n("header",{staticClass:"header"},[n("m-header"),n("tab")],1),n("transition",[n("keep-alive",[n("router-view")],1)],1),n("player")],1)},l=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-header"},[n("div",{staticClass:"icon"}),n("h1",{staticClass:"text"},[t._v("Chicken Music")]),n("router-link",{staticClass:"mine",attrs:{tag:"div",to:"/user"}},[n("i",{staticClass:"icon-mine"})])],1)},d=[],h=(n("579b"),n("d2f3")),f={},p=Object(h["a"])(f,u,d,!1,null,"3d588493",null),m=p.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab"},[n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/recommend"}},[n("span",{staticClass:"tab-link"},[t._v("推荐")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/singer"}},[n("span",{staticClass:"tab-link"},[t._v("歌手")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/rank"}},[n("span",{staticClass:"tab-link"},[t._v("排行")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/search"}},[n("span",{staticClass:"tab-link"},[t._v("搜索")])])],1)},v=[],y=(n("54ac"),{}),b=Object(h["a"])(y,g,v,!1,null,"7225e9fa",null),w=b.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.playList.length>0,expression:"playList.length>0"}],staticClass:"player"},[n("transition",{attrs:{name:"normal"},on:{enter:t.enter,"after-enter":t.afterEnter,leave:t.leave,"after-leave":t.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"}],staticClass:"normal-play"},[n("div",{staticClass:"background"},[n("img",{attrs:{width:"100%",height:"100%",src:t.currentSong.image}})]),n("div",{staticClass:"top"},[n("div",{staticClass:"hide",on:{click:t.back}},[n("i",{staticClass:"icon-back"})]),n("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.currentSong.name)}}),n("h2",{staticClass:"subtitle",domProps:{innerHTML:t._s(t.currentSong.singer)}})]),n("div",{staticClass:"middle",on:{touchstart:t.touchstart,touchmove:t.touchmove,touchend:t.touchend}},[n("div",{ref:"cdWrapper",staticClass:"middle-l"},[n("div",{staticClass:"cd-wrapper"},[n("div",{staticClass:"cd",class:t.rotateCls},[n("img",{staticClass:"image",attrs:{src:t.currentSong.image}})])]),t.currentLyric?n("div",{staticClass:"playing-lyric-wrapper"},[n("div",{staticClass:"playing-lyric"},[t._v(t._s(t.currentLyric.lines[t.currentLineNum].txt))])]):t._e()]),n("scroll",{ref:"lyricWrapper",staticClass:"middle-r",attrs:{data:t.currentLyric}},[n("div",{staticClass:"lyric-wrapper"},[t.currentLyric?n("div",t._l(t.currentLyric.lines,function(e,i){return n("p",{key:i,ref:"lyricLine",refInFor:!0,staticClass:"text",class:{current:t.currentLineNum===i}},[t._v(t._s(e.txt))])}),0):t._e()])])],1),n("div",{staticClass:"bottom"},[n("div",{staticClass:"dot-wrapper"},[n("span",{staticClass:"dot",class:{active:"cd"===t.currentShow}}),n("span",{staticClass:"dot",class:{active:"lyric"===t.currentShow}})]),n("div",{staticClass:"progress-wrapper"},[n("span",{staticClass:"time time-l"},[t._v(t._s(t._f("formatTime")(t.currentTime)))]),n("progress-bar",{attrs:{percent:t.percent},on:{dragProgress:t.dragProgress}}),n("span",{staticClass:"time time-r"},[t._v(t._s(t._f("formatTime")(t.durationTime)))])],1),n("div",{staticClass:"operators"},[n("div",{staticClass:"icon i-left"},[n("i",{class:t.modeIcon,on:{click:t.togglePlayMode}})]),n("div",{staticClass:"icon i-left",class:t.disableCls},[n("i",{staticClass:"icon-prev",on:{click:t.prev}})]),n("div",{staticClass:"icon center",class:t.disableCls},[n("i",{staticClass:"needsclick",class:t.playIcon,on:{click:t.togglePlaying}})]),n("div",{staticClass:"icon i-right",class:t.disableCls},[n("i",{staticClass:"icon-next",on:{click:t.next}})]),n("div",{staticClass:"icon i-right"},[n("i",{staticClass:"icon",class:t.getFavoriteIcon(t.currentSong),on:{click:function(e){return e.stopPropagation(),t.toggleFavorite(t.currentSong)}}})])])])])]),n("transition",{attrs:{name:"mini"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullScreen,expression:"!fullScreen"}],staticClass:"mini-player",on:{click:t.open}},[n("div",{staticClass:"icon"},[n("img",{class:t.rotateCls,attrs:{width:"40",height:"40",src:t.currentSong.image}})]),n("div",{staticClass:"text"},[n("h2",{staticClass:"name",domProps:{innerHTML:t._s(t.currentSong.name)}}),n("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.currentSong.singer)}})]),n("div",{staticClass:"control"},[n("progress-circle",{attrs:{radius:"32",percent:t.percent}},[n("i",{staticClass:"icon-mini icon-play-mini",class:t.playIcon+"-mini",on:{click:function(e){return e.stopPropagation(),t.togglePlaying(e)}}})])],1),n("div",{staticClass:"control"},[n("i",{staticClass:"icon-playlist",on:{click:function(e){return e.stopPropagation(),t.showPlayList(e)}}})])])]),n("mini-play-list",{ref:"playList"}),n("audio",{ref:"audio",attrs:{src:t.currentSong.url},on:{canplay:t.ready,error:t.error,ended:t.ended,timeupdate:t.timeupdate}})],1)},A=[],S=(n("cca6"),n("b5aa"),n("4457")),x=(n("a1d1"),n("bd31")),k=n("41ea"),L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"list-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlayList,expression:"isShowPlayList"}],staticClass:"play-list",on:{click:t.hidePlayList}},[n("div",{staticClass:"list-wrapper",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"list-header"},[n("h1",{staticClass:"title"},[n("i",{staticClass:"icon",class:t.modeIcon,on:{click:t.togglePlayMode}}),n("span",{staticClass:"text"},[t._v(t._s(t.getModeText))]),n("span",{staticClass:"clear",on:{click:t.showConfirm}},[n("i",{staticClass:"icon-clear"})])])]),n("scroll",{ref:"scroll",staticClass:"list-content",attrs:{data:t.playList}},[n("transition-group",{ref:"songList",attrs:{name:"list",tag:"ul"}},t._l(t.playList,function(e,i){return n("li",{key:e.id,staticClass:"item",on:{click:function(e){return t.selectSong(i)}}},[n("i",{staticClass:"current",class:[t.currentIndex===i?t.curPlayIcon:""]}),n("span",{staticClass:"text"},[t._v(t._s(e.name))]),n("span",{staticClass:"like",on:{click:function(n){return n.stopPropagation(),t.toggleFavorite(e)}}},[n("i",{class:t.getFavoriteIcon(e)})]),n("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.delOne(i)}}},[n("i",{staticClass:"icon-delete"})])])}),0)],1),n("div",{staticClass:"list-operate"},[n("div",{staticClass:"add"},[n("i",{staticClass:"icon-add"}),n("div",{staticClass:"text",on:{click:t.showAddSong}},[t._v("添加歌曲到队列")])])]),n("div",{staticClass:"list-close",on:{click:t.hidePlayList}},[n("span",[t._v("关闭")])])],1),n("confirm",{ref:"confirm",on:{consent:t.clearList}}),n("add-song",{ref:"addSong"})],1)])},O=[],j=n("5f19"),_=n("1a93"),I=n("e9fc"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowAddSong,expression:"isShowAddSong"}],staticClass:"add-song",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"header"},[n("h1",{staticClass:"title"},[t._v("添加歌曲到列表")]),n("div",{staticClass:"close"},[n("i",{staticClass:"icon-close",on:{click:function(e){return e.target!==e.currentTarget?null:t.hideAddSong(e)}}})])]),n("div",{staticClass:"search-box-wrapper"},[n("search-box",{ref:"searchBox",attrs:{placeholder:"搜索歌曲"},on:{query:t.onQueryChange}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.query,expression:"!query"}],staticClass:"shortcut"},[n("switches",{attrs:{switches:t.switches,currentIndex:t.currentIndex},on:{switchItem:t.switchItem}}),n("div",{staticClass:"list-wrapper"},[0===t.currentIndex?n("scroll",{ref:"listScroll",staticClass:"list-scroll",attrs:{data:t.playHistory}},[n("div",{staticClass:"list-inner"},[n("song-list",{attrs:{songs:t.playHistory},on:{select:t.selectSong}})],1)]):t._e(),1===t.currentIndex?n("scroll",{ref:"searchScroll",staticClass:"list-scroll",attrs:{data:t.searchHistory}},[n("div",{staticClass:"list-inner"},[n("search-list",{attrs:{searches:t.searchHistory},on:{select:t.setQuery,deleteOne:t.delSearchHistory}})],1)]):t._e()],1)],1),n("suggest",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],staticClass:"search-result",attrs:{query:t.query,showSinger:t.showSinger},on:{select:t.selectSuggest}}),n("top-tip",{ref:"topTip"},[n("div",{staticClass:"tip-title"},[n("i",{staticClass:"icon-ok"}),n("span",{staticClass:"text"},[t._v("1首歌曲已被添加入播放队列")])])])],1)])},P=[],R=n("fee2"),E=n("86b1"),M=n("f910"),q=n("0236"),N=n("7920"),D=n("510f"),W=n("5880"),H=n.n(W),U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"drop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"top-tip",on:{click:function(e){return e.stopPropagation(),t.hide(e)}}},[t._t("default")],2)])},B=[],G=(n("b06f"),{props:{delay:{type:Number,default:2e3}},data:function(){return{showFlag:!1}},methods:{show:function(){var t=this;this.showFlag=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){t.hide(),t.timer=null},this.delay)},hide:function(){this.showFlag=!1}}}),z=G,$=(n("2da3"),Object(h["a"])(z,U,B,!1,null,"ae88a69c",null)),Y=$.exports,F={mixins:[D["c"],D["d"]],data:function(){return{isShowAddSong:!1,showSinger:!1,switches:["最近播放","搜索历史"],currentIndex:0}},computed:Object(x["a"])({},Object(W["mapGetters"])(["playHistory"])),methods:Object(x["a"])({hideAddSong:function(){this.isShowAddSong=!1},showAddSong:function(){var t=this;this.isShowAddSong=!0,setTimeout(function(){0===t.currentIndex?t.$refs.listScroll.refresh():t.$refs.searchScroll.refresh()},20)},switchItem:function(t){this.currentIndex!==t&&(this.currentIndex=t)},onQueryChange:function(t){this.query=t},selectSong:function(t,e){0!==e&&(this.showTip(),this.insertSong(t))},selectSuggest:function(){this.saveSearch(),this.showTip()},showTip:function(){this.$refs.topTip.show()}},Object(W["mapActions"])(["insertSong"])),components:{Scroll:I["a"],searchBox:R["a"],suggest:E["a"],switches:M["a"],searchList:q["a"],songList:N["a"],topTip:Y}},Z=F,J=(n("0a97"),Object(h["a"])(Z,T,P,!1,null,"51280084",null)),Q=J.exports,V=(s={},Object(j["a"])(s,k["a"].sequence,"顺序播放"),Object(j["a"])(s,k["a"].loop,"循环播放"),Object(j["a"])(s,k["a"].random,"随机播放"),s),X={mixins:[D["e"],D["a"]],data:function(){return{isShowPlayList:!1}},computed:Object(x["a"])({getModeText:function(){return V[this.mode]},curPlayIcon:function(){return this.playing?"icon-pause":"icon-play"}},Object(W["mapGetters"])(["playList","currentIndex","playing"])),methods:Object(x["a"])({showPlayList:function(){var t=this;this.isShowPlayList=!0,setTimeout(function(){t.$refs.scroll.refresh(),t.scrollToCurrent()},20)},hidePlayList:function(){this.isShowPlayList=!1},showAddSong:function(){this.$refs.addSong.showAddSong()},clearList:function(){this.clearPlayList(),this.$emit("closeList")},showConfirm:function(){this.$refs.confirm.show()},scrollToCurrent:function(){var t=this.$refs.songList.$el.children[this.currentIndex];this.$refs.scroll.scrollToElement(t,300)},delOne:function(t){this.delSong(t),this.playList.length||this.hidePlayList()},selectSong:function(t){if(this.currentIndex===t)return this.setPlayingState(!this.playing);this.setCurrentIndex(t),this.setPlayingState(!0)}},Object(W["mapMutations"])({setCurrentIndex:"SET_CURRENT_INDEX",setPlayingState:"SET_PLAYING_STATE"}),Object(W["mapActions"])(["clearPlayList","delSong"])),watch:{currentIndex:function(){this.isShowPlayList&&this.scrollToCurrent()}},components:{confirm:_["a"],scroll:I["a"],addSong:Q}},K=X,tt=(n("60e9"),Object(h["a"])(K,L,O,!1,null,"22c21f35",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-bar-wrapper"},[n("div",{ref:"barInner",staticClass:"bar-inner",on:{click:function(e){return e.stopPropagation(),t.barClick(e)}}},[n("div",{ref:"progressBg",staticClass:"progress"}),n("div",{ref:"progressBtn",staticClass:"progress-btn-wrapper",on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.progressTouchStart(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.progressTouchMove(e)},touchend:function(e){return e.stopPropagation(),t.progressTouchEnd(e)}}},[n("div",{staticClass:"progress-btn"})])])])},it=[],rt=n("8f76"),st=n.n(rt),at=n("3e2c"),ct=16,ot=st()("sliding"),lt=Object(at["c"])("transform"),ut={created:function(){var t;this.touch=(t={x:0},Object(j["a"])(t,ot,!1),Object(j["a"])(t,"bgWidth",0),t)},mounted:function(){this.bg=this.$refs.progressBg,this.btn=this.$refs.progressBtn},props:{percent:{type:Number,default:0}},watch:{percent:function(){if(!this[ot]){this.barWidth||(this.barWidth=this.$refs.barInner.clientWidth-ct);var t=this.barWidth*this.percent;this.bg.style.width="".concat(t,"px"),this.btn.style[lt]="translate3d(".concat(t,"px, 0, 0)")}}},methods:{barClick:function(t){var e=(t.layerX-ct)/this.barWidth;e=Math.min(1,e),this.$emit("dragProgress",e)},progressTouchStart:function(t){this[ot]=!0,this.touch.x=t.touches[0].pageX,this.touch.bgWidth=this.bg.clientWidth},progressTouchMove:function(t){if(this[ot]){var e=t.touches[0].pageX,n=this.barWidth,i=e-this.touch.x+this.touch.bgWidth;i=Math.min(n,Math.max(0,i)),this.bg.style.width="".concat(i,"px"),this.btn.style[lt]="translate3d(".concat(i,"px, 0, 0)")}},progressTouchEnd:function(t){var e=this.bg.clientWidth,n=e/this.barWidth;this.$emit("dragProgress",n),this[ot]=!1}}},dt=ut,ht=(n("ef50"),Object(h["a"])(dt,nt,it,!1,null,"4818708f",null)),ft=ht.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-circle"},[n("svg",{attrs:{width:t.radius,height:t.radius,viewBox:"0 0 100 100",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{staticClass:"progress-background",attrs:{r:"50",cx:"50",cy:"50",fill:"transparent"}}),n("circle",{staticClass:"progress-bar",attrs:{r:"50",cx:"50",cy:"50",fill:"transparent","stroke-dasharray":t.dashArray,"stroke-dashoffset":t.dashOffset}})]),t._t("default")],2)},mt=[],gt={props:{radius:{type:Number|String,default:100},percent:{type:Number,default:0}},data:function(){return{dashArray:100*Math.PI}},computed:{dashOffset:function(){return(1-this.percent)*this.dashArray}}},vt=gt,yt=(n("59ec"),Object(h["a"])(vt,pt,mt,!1,null,"6b5e48cf",null)),bt=yt.exports,wt=n("01ae"),Ct=n.n(wt),At=n("0031"),St=n.n(At),xt=Object(at["c"])("transform"),kt=Object(at["c"])("transitionDuration"),Lt={mixins:[D["e"],D["a"]],created:function(){this.touch={}},mounted:function(){this.cdWrapper=this.$refs.cdWrapper,this.lyricWrapper=this.$refs.lyricWrapper.$el},data:function(){return{currentShow:"cd",songReady:!1,currentTime:0,durationTime:0,currentLyric:null,currentLineNum:0}},computed:Object(x["a"])({percent:function(){return this.currentTime/this.durationTime},rotateCls:function(){return this.playing?"play":"play pause"},playIcon:function(){return this.playing?"icon-pause":"icon-play"},disableCls:function(){return this.songReady?"":"disable"}},Object(W["mapGetters"])(["fullScreen","playList","currentSong","playing","currentIndex","mode"])),methods:Object(x["a"])({showPlayList:function(){this.$refs.playList.showPlayList()},touchstart:function(t){this.touch.initiated=!0;var e=t.touches[0];this.touch.startX=e.pageX,this.touch.startY=e.pageY},touchmove:function(t){if(this.touch.initiated){var e=t.touches[0],n=e.pageX-this.touch.startX,i=e.pageY-this.touch.startY;t.changedTouches[0].pageX;if(!(Math.abs(i)>Math.abs(n))){var r="cd"===this.currentShow?0:-window.innerWidth,s=Math.min(0,Math.max(-window.innerWidth,r+n));this.touch.percent=Math.abs(s/window.innerWidth),this.cdWrapper.style[kt]="0ms",this.cdWrapper.style.opacity=1-this.touch.percent,this.lyricWrapper.style[kt]="0ms",this.lyricWrapper.style[xt]="translateX(".concat(s,"px)")}}},touchend:function(t){var e,n;"cd"===this.currentShow?this.touch.percent>.1?(e=-window.innerWidth,n=0,this.currentShow="lyric"):(e=0,n=1):this.touch.percent<.9?(e=0,n=1,this.currentShow="cd"):(e=-window.innerWidth,n=0);var i=300;this.cdWrapper.style[kt]="".concat(i,"ms"),this.cdWrapper.style.opacity=n,this.lyricWrapper.style[kt]="".concat(i,"ms"),this.lyricWrapper.style[xt]="translateX(".concat(e,"px)")},enter:function(t,e){var n=this._getPosAndScale(),i=n.x,r=n.y,s=n.scale,a={0:{transform:"translate3d(".concat(i,"px, ").concat(r,"px, 0) scale(").concat(s,")")},60:{transform:"translate3d(0, 0, 0) scale(1.1)"},100:{transform:"translate3d(0, 0, 0) scale(1)"}};Ct.a.registerAnimation({name:"move",animation:a,presets:{duration:400,easing:"linear"}}),Ct.a.runAnimation(this.$refs.cdWrapper,"move",e)},afterEnter:function(){Ct.a.unregisterAnimation("move"),this.$refs.cdWrapper.style.animation=""},leave:function(t,e){this.$refs.cdWrapper;var n=this._getPosAndScale(),i=n.x,r=n.y,s=n.scale;this.$refs.cdWrapper.style.transition="all 0.4s",this.$refs.cdWrapper.style[xt]="translate3d(".concat(i,"px, ").concat(r,"px, 0) scale(").concat(s,")"),this.$refs.cdWrapper.addEventListener("transitionend",e)},afterLeave:function(){this.$refs.cdWrapper.style.transition="",this.$refs.cdWrapper.style[xt]=""},_getPosAndScale:function(){var t=40,e=40,n=30,i=80,r=.8*window.innerWidth,s=t/r,a=-(window.innerWidth/2-e),c=window.innerHeight-i-r/2-n;return{x:a,y:c,scale:s}},back:function(){this.setFullScreen(!1)},open:function(){this.setFullScreen(!0)},prev:function(){if(this.songReady){if(!this.playing&&this.togglePlaying(),this.songReady=!1,1===this.playList.length)return this.loop();var t=this.currentIndex-1;this.mode===k["a"].random&&(t=Math.ceil(Math.random()*this.playList.length)),this.setCurrentIndex(t)}},next:function(){if(this.songReady){if(!this.playing&&this.togglePlaying(),this.songReady=!1,1===this.playList.length)return this.loop();var t=this.currentIndex+1;this.mode===k["a"].random&&(t=Math.ceil(Math.random()*this.playList.length)),this.setCurrentIndex(t)}},loop:function(){this.$refs.audio.currentTime=0,this.$refs.audio.play(),this.setPlayState(!0)},ready:function(){this.songReady=!0,this.durationTime=this.$refs.audio.duration},error:function(){this.songReady=!0},ended:function(){switch(this.togglePlaying(),this.mode){case k["a"].sequence:this.next();break;case k["a"].loop:this.loop();break;case k["a"].random:if(!this.songReady)return;!this.playing&&this.togglePlaying(),this.songReady=!1;var t=Math.ceil(Math.random()*this.playList.length);this.setCurrentIndex(t);break}},timeupdate:function(t){var e=this;if(this.currentTime=this.$refs.audio.currentTime,this.currentLyric){var n=this.currentLyric.lines.findIndex(function(t){return t.time>=1e3*e.currentTime});if(n=-1===n?this.currentLyric.lines.length-1:Math.max(0,n-1),this.currentLineNum!==n)if(this.currentLineNum=n,n>5){var i=this.$refs.lyricLine[n-5];this.$refs.lyricWrapper.scrollToElement(i,1e3)}else this.$refs.lyricWrapper.scrollTo(0,0,1e3)}},togglePlaying:function(){this.songReady&&this.setPlayState(!this.playing)},dragProgress:function(t){this.$refs.audio.currentTime=this.durationTime*t,this.playing||this.togglePlaying()},getLyric:function(){var t=Object(S["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.currentSong.setLyric();case 2:this.currentLyric=new St.a(this.currentSong.lyric);case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},Object(W["mapMutations"])({setFullScreen:"SET_FULL_SCREEN",setPlayState:"SET_PLAYING_STATE",setCurrentIndex:"SET_CURRENT_INDEX",setSongLyric:"SET_CURRENT_SONG_LYRIC"}),Object(W["mapActions"])(["savePlayHistory"])),watch:{currentSong:function(t,e){var n=this;t.id&&t.id!==e.id&&(t.lyric?(this.savePlayHistory(t),this.currentLyric=new St.a(t.lyric)):this.getLyric().then(function(){n.savePlayHistory(t)}),setTimeout(function(){n.playing&&n.$refs.audio.play()},1e3))},playing:function(t){var e=this.$refs.audio;this.$nextTick(function(){t?e.play():e.pause()})}},components:{miniPlayList:et,Scroll:I["a"],progressBar:ft,progressCircle:bt},filters:{formatTime:function(t){t=+t;var e=t/60|0,n=((t%60|0)+"").padStart(2,0);return"".concat(e,":").concat(n)}}},Ot=Lt,jt=(n("3af9"),Object(h["a"])(Ot,C,A,!1,null,"8ee7f494",null)),_t=jt.exports,It={methods:{iosTiggerPlayer:function(){document.querySelector("audio").play()}},components:{MHeader:m,Tab:w,Player:_t}},Tt=It,Pt=(n("9392"),Object(h["a"])(Tt,o,l,!1,null,"0efec74e",null)),Rt=Pt.exports,Et=n("816c"),Mt=n.n(Et),qt=n("aae9"),Nt=n.n(qt),Dt=n("6389"),Wt=n.n(Dt),Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"recommend",staticClass:"recommend"},[n("scroll",{ref:"scroll",staticClass:"recommend-content",attrs:{data:t.discList}},[n("div",[t.recommends.length?n("div",{staticClass:"slider-wrapper"},[n("slider",t._l(t.recommends,function(e){return n("div",{key:e.id},[n("a",{attrs:{href:e.linkUrl}},[n("img",{attrs:{src:e.picUrl},on:{load:t.loadImage}})])])}),0)],1):t._e(),n("div",{staticClass:"recommend-list"},[n("h1",{staticClass:"list-title"},[t._v("热门歌单推荐")]),n("ul",t._l(t.discList,function(e){return n("li",{key:e.dissid,staticClass:"item",on:{click:function(n){return t.selectItem(e)}}},[n("div",{staticClass:"icon"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgurl,expression:"item.imgurl"}],attrs:{width:"60",height:"60"}})]),n("div",{staticClass:"text"},[n("h2",{staticClass:"name",domProps:{innerHTML:t._s(e.creator.name)}}),n("p",{staticClass:"desc",domProps:{innerHTML:t._s(e.dissname)}})])])}),0)])])]),n("loading",{directives:[{name:"show",rawName:"v-show",value:!t.discList.length,expression:"!discList.length"}]}),n("router-view")],1)},Ut=[],Bt=n("a700"),Gt=n.n(Bt),zt=(n("612f"),n("b5ad"),n("024c")),$t=n("3173"),Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"slider",staticClass:"slider"},[n("div",{ref:"sliderGroup",staticClass:"slider-group"},[t._t("default")],2),t.showDots?n("div",{staticClass:"dots"},t._l(t.dots,function(e,i){return n("span",{key:i,staticClass:"dot",class:{active:t.currentPageIndex===i}})}),0):t._e()])},Ft=[],Zt=n("323e"),Jt={props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3},threshold:{type:Number,default:.3},speed:{type:Number,default:400},showDots:{type:Boolean,default:!0}},data:function(){return{sliderScroll:{},children:{},dots:[],currentPageIndex:0,timer:void 0}},methods:{_setSliderWidth:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.children=this.$refs.sliderGroup.children;for(var e=0,n=this.$refs.slider.clientWidth,i=0;i<this.children.length;i++){var r=this.children[i];Object(at["a"])(r,"slider-item"),r.style.width=n+"px",e+=n}this.loop&&!t&&(e+=2*n),this.$refs.sliderGroup.style.width=e+"px"},_initBetterScroll:function(){var t=this;this.sliderScroll=new Zt["a"](this.$refs.slider,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:this.threshold,speed:this.speed},bounce:!1,stopPropagation:!0,click:!0}),this.sliderScroll.on("scrollEnd",function(){var e=t.sliderScroll.getCurrentPage().pageX;t.currentPageIndex=e,t.autoPlay&&t._play()})},_initDots:function(){this.dots=new Array(this.children.length)},_play:function(){var t=this;clearInterval(this.timer),this.timer=setInterval(function(){t.sliderScroll.next()},this.interval)}},mounted:function(){var t=this,e=null;window.addEventListener("resize",function(){e||(e=setTimeout(function(){if(e=null,!t.sliderScroll)return!1;t._setSliderWidth(!0),t.sliderScroll.refresh()},200))}),this.$nextTick(function(){t._setSliderWidth(),t._initDots(),t._initBetterScroll(),t.autoPlay&&t._play()})},destroyed:function(){clearInterval(this.timer)}},Qt=Jt,Vt=(n("a137"),Object(h["a"])(Qt,Yt,Ft,!1,null,"a62313b2",null)),Xt=Vt.exports,Kt=n("1cb8"),te=n("42ba"),ee=n("da71"),ne={mixins:[D["b"]],components:{Slider:Xt,Scroll:I["a"],Loading:Kt["a"],singerDetail:$t["default"]},data:function(){return{recommends:[],discList:[],dissId:0}},methods:Object(x["a"])({selectItem:function(t){this.$router.push({path:"/recommend/".concat(t.dissid)}),this.setDisc(t)},handelPlayList:function(t){var e=t.length>0?"60px":"";this.$refs.recommend.style.bottom=e,this.$refs.scroll.refresh()},_initDataList:function(){var t=Object(S["a"])(regeneratorRuntime.mark(function t(){var e,n,i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Gt.a.all([Object(te["c"])(),Object(te["b"])()]);case 3:e=t.sent,n=Object(zt["a"])(e,2),i=n[0],r=n[1].data,i.code===ee["a"]&&(this.recommends=i.data.slider),r.code===ee["a"]&&(this.discList=r.data.list),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));function e(){return t.apply(this,arguments)}return e}(),loadImage:function(){this.loadImage.refresh||(this.$refs.scroll.refresh(),this.loadImage.refresh=!0)}},Object(W["mapMutations"])({setDisc:"SET_DISC"})),created:function(){this._initDataList()}},ie=ne,re=(n("9eba"),Object(h["a"])(ie,Ht,Ut,!1,null,"4d9377e2",null)),se=re.exports,ae=[{path:"/",redirect:"/recommend"},{path:"/recommend",component:se,children:[{path:":id",component:function(){return n.e("chunk-16f77578").then(n.bind(null,"aabb"))}}]},{path:"/singer",component:function(){return n.e("chunk-308a984a").then(n.bind(null,"1f23"))},children:[{path:":id",component:function(){return Promise.resolve().then(n.bind(null,"3173"))}}]},{path:"/rank",component:function(){return n.e("chunk-2465e972").then(n.bind(null,"6688"))},children:[{path:":id",component:function(){return n.e("chunk-9b789f94").then(n.bind(null,"da87"))}}]},{path:"/search",component:function(){return n.e("chunk-c78214d6").then(n.bind(null,"1ef7"))},children:[{path:":id",component:function(){return Promise.resolve().then(n.bind(null,"3173"))}}]},{path:"/user",component:function(){return n.e("chunk-a25d2298").then(n.bind(null,"b843"))}}];c.a.use(Wt.a);var ce=new Wt.a({mode:"history",base:"/",routes:ae}),oe=n("d1c5"),le="__search__",ue="__play__",de=15,he=200,fe="__favorite__",pe=200;function me(t,e,n,i){var r=t.findIndex(n);0!==r&&(r>0&&t.splice(r,1),t.unshift(e),i&&t.length>i&&t.pop())}function ge(t,e){var n=t.findIndex(e);n>-1&&t.splice(n,1)}function ve(t){var e=oe["a"].get(le,[]),n=function(e){return e===t};return me(e,t,n,de),oe["a"].set(le,e),e}function ye(t){var e=oe["a"].get(le,[]),n=function(e){return e===t};return ge(e,n),oe["a"].set(le,e),e}function be(){return oe["a"].remove(le),[]}function we(){return oe["a"].get(le,[])}function Ce(t){var e=oe["a"].get(ue,[]),n=function(e){return e.id===t.id};return me(e,t,n,he),oe["a"].set(ue,e),e}function Ae(){return oe["a"].get(ue,[])}function Se(t){var e=oe["a"].get(fe,[]),n=function(e){return e.id===t.id};return me(e,t,n,pe),oe["a"].set(fe,e),e}function xe(t){var e=oe["a"].get(fe,[]),n=function(e){return e.id===t.id};return ge(e,n),oe["a"].set(fe,e),e}function ke(){return oe["a"].get(fe,[])}var Le,Oe={singer:{},playing:!1,fullScreen:!1,playList:[],mode:k["a"].sequence,currentIndex:-1,disc:{},rank:{},searchHistory:we(),playHistory:Ae(),favoriteList:ke()},je=Oe,_e="SET_SINGER",Ie="SET_PLAYING_STATE",Te="SET_FULL_SCREEN",Pe="SET_PLAYLIST",Re="SET_PLAY_MODE",Ee="SET_CURRENT_INDEX",Me="SET_CURRENT_SONG_LYRIC",qe="SET_DISC",Ne="SET_RANK",De="SET_SEARCH_HISTORY",We="SET_PLAY_HISTORY",He="SET_FAVORITE_LIST",Ue=(Le={},Object(j["a"])(Le,_e,function(t,e){t.singer=e}),Object(j["a"])(Le,Ie,function(t,e){t.playing=e}),Object(j["a"])(Le,Te,function(t,e){t.fullScreen=e}),Object(j["a"])(Le,Pe,function(t,e){t.playList=e}),Object(j["a"])(Le,Re,function(t,e){t.mode=e}),Object(j["a"])(Le,Ee,function(t,e){var n=t.playList.length-1;e=e<0?n:e>n?0:e,t.currentIndex=e}),Object(j["a"])(Le,Me,function(t,e){t.playList[t.currentIndex].lyric=e}),Object(j["a"])(Le,qe,function(t,e){t.disc=e}),Object(j["a"])(Le,Ne,function(t,e){t.rank=e}),Object(j["a"])(Le,De,function(t,e){t.searchHistory=e}),Object(j["a"])(Le,We,function(t,e){t.playHistory=e}),Object(j["a"])(Le,He,function(t,e){t.favoriteList=e}),Le),Be=Ue,Ge=function(t){return t.singer},ze=function(t){return t.playing},$e=function(t){return t.fullScreen},Ye=function(t){return t.playList},Fe=function(t){return t.sequenceList},Ze=function(t){return t.mode},Je=function(t){return t.currentIndex},Qe=function(t){return t.playList[t.currentIndex]||{}},Ve=function(t){return t.disc},Xe=function(t){return t.rank},Ke=function(t){return t.searchHistory},tn=function(t){return t.playHistory},en=function(t){return t.favoriteList},nn=function(t,e){var n=t.commit,i=e.list,r=e.index;n(Pe,i),n(Ee,r),n(Te,!0),n(Ie,!0)},rn=function(t,e){var n=t.commit,i=t.state,r=e.list;n(Pe,r),n(Ee,Math.ceil(Math.random()*i.playList.length)),n(Te,!0),n(Ie,!0),n(Re,k["a"].random)},sn=function(t,e){var n=t.commit,i=t.state,r=i.playList.slice(),s=i.currentIndex,a=r.findIndex(function(t){return t.id===e.id});s++,r.splice(s,0,e),a>-1&&(s>a?(r.splice(a,1),s--):r.splice(a+1,1)),n(Pe,r),n(Ee,s),n(Te,!0),n(Ie,!0)},an=function(t,e){var n=t.commit,i=t.state,r=i.playList.slice(),s=i.currentIndex;if(r.splice(e,1),(s>e||s===r.length)&&n(Ee,s-1),s===e&&i.mode===k["a"].random){var a=Math.ceil(Math.random()*r.length);n(Ee,a)}n(Pe,r),r.length||n(Ie,!1)},cn=function(t,e){var n=t.commit;n(De,ve(e))},on=function(t,e){var n=t.commit;n(De,ye(e))},ln=function(t,e){var n=t.commit;n(De,be())},un=function(t){var e=t.commit;e(Pe,[]),e(Ee,-1),e(Ie,!1),e(Te,!1)},dn=function(t,e){var n=t.commit;n(We,Ce(e))},hn=function(t,e){var n=t.commit;n(He,Se(e))},fn=function(t,e){var n=t.commit;n(He,xe(e))},pn=n("5518"),mn=n.n(pn);c.a.use(H.a);var gn=!1,vn=new H.a.Store({state:je,mutations:Be,actions:r,getters:i,strict:gn,plugins:gn?[mn()()]:[]});n("202d");c.a.config.productionTip=!1,c.a.use(Nt.a,{loading:n("710d")}),Mt.a.attach(document.body),new c.a({router:ce,store:vn,render:function(t){return t(Rt)}}).$mount("#app")},"579b":function(t,e,n){"use strict";var i=n("38f5"),r=n.n(i);r.a},5880:function(t,e){t.exports=Vuex},"59ec":function(t,e,n){"use strict";var i=n("5422"),r=n.n(i);r.a},"5a95":function(t,e){t.exports="data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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"},"5b89":function(t,e,n){},"60e9":function(t,e,n){"use strict";var i=n("1ad3"),r=n.n(i);r.a},6389:function(t,e){t.exports=VueRouter},"64eb":function(t,e,n){},"66fab":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"no-result-icon"}),n("p",{staticClass:"no-result-text"},[t._v(t._s(t.title))])])},r=[],s={props:{title:{type:String,default:"抱歉，暂无搜索结果"}}},a=s,c=(n("2b89"),n("d2f3")),o=Object(c["a"])(a,i,r,!1,null,"9f1cabc6",null);e["a"]=o.exports},"6d0d":function(t,e,n){"use strict";var i=n("2909"),r=n.n(i);r.a},"710d":function(t,e,n){t.exports=n.p+"static/img/default.cbc0e020.png"},7602:function(t,e,n){"use strict";var i=n("5b89"),r=n.n(i);r.a},7920:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song-list"},[n("ul",t._l(t.songs,function(e,i){return n("li",{key:i,staticClass:"music-item",on:{click:function(n){return t.selectItem(e,i)}}},[t.isRank?n("div",{staticClass:"rank"},[n("span",{class:t.getRankCls(i)},[t._v(t._s(t.getRankText(i)))])]):t._e(),n("div",{staticClass:"content"},[n("h2",{staticClass:"music-title"},[t._v(t._s(e.name))]),n("p",{staticClass:"music-desc"},[t._v(t._s(t.getDesc(e)))])])])}),0)])},s=[],a=(n("b5aa"),n("4457")),c=n("f5de"),o={0:"icon icon0",1:"icon icon1",2:"icon icon2",other:"text"},l={props:{songs:{type:Array,default:[]},isRank:{type:Boolean,default:!1}},methods:{getDesc:function(t){return"".concat(t.singer,"·").concat(t.album)},selectItem:function(t,e){t.url||this._getPlayUrl(t),this.$emit("select",t,e)},_getPlayUrl:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var n,r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["d"])({songmids:[e.mid]});case 2:n=t.sent,r=n.url_mid,s=r.data.sip[0],a=r.data.midurlinfo,e.url="".concat(s).concat(a[i].purl);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getRankText:function(t){return t>2?t+1:""},getRankCls:function(t){return o[t]||o["other"]}}},u=l,d=(n("bfa2"),n("d2f3")),h=Object(d["a"])(u,r,s,!1,null,"b499dad6",null);e["a"]=h.exports},"7f5c":function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return o});var i=n("ab01"),r=n.n(i),s=n("5693"),a=n("da71");function c(){var t="https://c.y.qq.com/v8/fcg-bin/v8.fcg",e=r()({},a["b"],{channel:"singer",page:"list",key:"all_all_all",pagesize:100,pagenum:1,hostUin:0,needNewCode:0,platform:"yqq"});return Object(s["a"])(t,e,a["c"])}function o(t){var e="https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg",n=r()({},a["b"],{hostUin:0,needNewCode:0,platform:"yqq",order:"listen",begin:0,num:100,songstatus:1,singermid:t});return Object(s["a"])(e,n,a["c"])}},"817f":function(t,e,n){"use strict";var i=n("3fa4"),r=n.n(i);r.a},8477:function(t,e,n){"use strict";var i=n("87c4"),r=n.n(i);r.a},"86b1":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"searchResult"},[n("scroll",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],ref:"search",staticClass:"suggest",attrs:{data:t.searchList,pullUpLoad:t.pullUpLoad},on:{pullingUp:t.pullingUp}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],staticClass:"suggest-list"},[t._l(t.searchList,function(e,i){return n("li",{key:i,staticClass:"item",on:{click:function(n){return t.selectItem(e)}}},[n("div",{staticClass:"icon"},[n("i",{class:t.getIconCls(e)})]),n("div",{staticClass:"name"},[n("p",{staticClass:"text",domProps:{innerHTML:t._s(t.getDisPlayName(e))}})])])}),t.isMore?n("li",[n("div",{staticClass:"search-loading"},[n("loading",{attrs:{title:""}})],1)]):t._e()],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.noResult,expression:"noResult"}],staticClass:"no-result-wrapper"},[n("no-result")],1)])],1)},r=[],s=(n("b5aa"),n("4457")),a=(n("aaa4"),n("bd31")),c=n("1cb8"),o=n("e9fc"),l=n("da71"),u=n("1925"),d=n("f5de"),h=n("5880"),f=n("510f"),p=n("66fab"),m="singer",g=20,v={mixins:[f["b"]],props:{query:{type:String,default:""},showSinger:{type:Boolean,default:!0}},data:function(){return{searchList:[],noResult:!1,curPage:0,pullUpLoad:!0,isMore:!0}},watch:{query:function(){this.curPage=0,this.searchList=[],this.noResult=!1,this.isMore=!0,this._getSearchList(this.query)}},methods:Object(a["a"])({handelPlayList:function(t){var e=t.length?"60px":"";this.$refs.searchResult.style.bottom=e,this.$refs.search.refresh()},selectItem:function(t){var e=this;t.type===m?this.$emit("selectSinger",t):Object(d["a"])(t).then(function(t){e.insertSong(t)}),this.$emit("select")},_getSearchList:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,i,r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return this.curPage++,t.next=5,Object(u["b"])(e,this.curPage,this.showSinger,g);case 5:if(n=t.sent,i=n.data,i.code!==l["a"]){t.next=17;break}if(i.data.song.list.length){t.next=12;break}return this.searchList.length||(this.noResult=!0),this.isMore=!1,t.abrupt("return");case 12:i.data.song.curnum+i.data.song.curpage*g>i.data.song.totalnum&&(this.isMore=!1),r=this._genResult(i.data),this.searchList=this.searchList.concat(r),this.curPage=i.data.song.curpage,this.$nextTick(function(){s.$refs.search.finishPullUp(),s.$refs.search.refresh()});case 17:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),_genResult:function(t){var e=[];return t.zhida&&t.zhida.singerid&&!this.searchList[0]&&e.push(Object(a["a"])({},t.zhida,{type:m})),t.song&&(e=e.concat(t.song.list)),e},pullingUp:function(){this._getSearchList(this.query)},getIconCls:function(t){return t.type===m?"icon-mine":"icon-music"},getDisPlayName:function(t){return t.type===m?t.singername:"".concat(t.songname,"-").concat(Object(d["c"])(t.singer))}},Object(h["mapActions"])(["insertSong"])),components:{Loading:c["a"],Scroll:o["a"],noResult:p["a"]}},y=v,b=(n("f3dd"),n("d2f3")),w=Object(b["a"])(y,i,r,!1,null,"37dbe5bb",null);e["a"]=w.exports},"87c4":function(t,e,n){},"8bbf":function(t,e){t.exports=Vue},"8cbf":function(t,e,n){},9392:function(t,e,n){"use strict";var i=n("faee"),r=n.n(i);r.a},"9cdb":function(t,e,n){},"9eba":function(t,e,n){"use strict";var i=n("434f"),r=n.n(i);r.a},"9f40":function(t,e,n){},a137:function(t,e,n){"use strict";var i=n("bd61"),r=n.n(i);r.a},ac2a:function(t,e,n){},b29b:function(t,e,n){},bd61:function(t,e,n){},bfa2:function(t,e,n){"use strict";var i=n("ac2a"),r=n.n(i);r.a},cebe:function(t,e){t.exports=axios},cf60:function(t,e,n){},d154:function(t,e,n){"use strict";var i=n("64eb"),r=n.n(i);r.a},da71:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return s});var i={g_tk:1928093487,inCharset:"utf-8",outCharset:"utf-8",notice:0,format:"jsonp"},r={param:"jsonpCallback"},s=0},e9fc:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper"},[t._t("default")],2)},r=[],s=(n("b06f"),n("323e")),a={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},data:{type:Array|Object,default:null},listenScroll:{type:Boolean,default:!1},pullUpLoad:{type:Boolean|Object,default:!1}},methods:{_initScroll:function(){if(this.$refs.wrapper){if(this.scroll=new s["a"](this.$refs.wrapper,{probeType:this.probeType,click:this.click,pullUpLoad:this.pullUpLoad}),this.listenScroll){var t=this;this.scroll.on("scroll",function(e){t.$emit("scroll",e)})}if(this.pullUpLoad){var e=this;this.scroll.on("pullingUp",function(){e.$emit("pullingUp")})}}},enable:function(){this.scroll&&this.scroll.enable()},disable:function(){this.scroll&&this.scroll.disable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},finishPullUp:function(){this.scroll&&this.scroll.finishPullUp()}},mounted:function(){var t=this;this.$nextTick(function(){t._initScroll()})},watch:{data:function(){var t=this;this.$nextTick(function(){t.refresh()})}}},c=a,o=n("d2f3"),l=Object(o["a"])(c,i,r,!1,null,null,null);e["a"]=l.exports},ef50:function(t,e,n){"use strict";var i=n("0a1a"),r=n.n(i);r.a},f3dd:function(t,e,n){"use strict";var i=n("b29b"),r=n.n(i);r.a},f5de:function(t,e,n){"use strict";var i=n("badb"),r=n.n(i),s=n("ab01"),a=n.n(s),c=n("a700"),o=n.n(c),l=(n("612f"),n("b5aa"),n("4457")),u=(n("3a23"),n("a585")),d=n("26cb"),h=n("cebe"),f=n.n(h),p=n("da71");function m(t){var e="/getLyric",n=a()({},p["b"],{pcachetime:+new Date,songmid:t,hostUin:0,format:"json",platform:"yqq",needNewCode:0});return f.a.get(e,{params:n})}var g=n("cea1");n.d(e,"c",function(){return w}),n.d(e,"b",function(){return C}),n.d(e,"a",function(){return A}),n.d(e,"d",function(){return L});var v=regeneratorRuntime.mark(C),y=function(){function t(e){var n=e.id,i=e.mid,r=e.singer,s=e.name,a=e.album,c=e.duration,o=e.image,l=e.url;Object(u["a"])(this,t),this.id=n,this.mid=i,this.singer=r,this.name=s,this.album=a,this.duration=c,this.image=o,this.url=l}return Object(d["a"])(t,[{key:"setLyric",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.lyric){t.next=2;break}return t.abrupt("return",this.lyric);case 2:return t.next=4,m(this.mid);case 4:e=t.sent,n=e.data,this.lyric=g["Base64"].decode(n.lyric);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),t}();function b(t){return new y({id:t.songid,mid:t.songmid,singer:w(t.singer),name:t.songname,album:t.albumname,duration:t.interval,image:"https://y.gtimg.cn/music/photo_new/T002R300x300M000".concat(t.albummid,".jpg?max_age=2592000")})}function w(t){var e=[];return t?(t.forEach(function(t){return e.push(t.name)}),e.join("/")):""}function C(t){var e;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return e=t.map(function(t){return b(t)}),n.next=3,e;case 3:x(t).then(function(t){var n=t.domain,i=t.playUrlList;e.forEach(function(t,e){return t.url="".concat(n).concat(i[e].purl)})});case 4:case"end":return n.stop()}},v,this)}function A(t){return S.apply(this,arguments)}function S(){return S=Object(l["a"])(regeneratorRuntime.mark(function t(e){var n,i,r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=b(e),t.next=3,L({songmids:[e.songmid],songtype:[e.type]});case 3:return i=t.sent,r=i.url_mid,s=r.data.sip[0],a=r.data.midurlinfo[0],n.url="".concat(s).concat(a.purl),t.abrupt("return",o.a.resolve(n));case 9:case"end":return t.stop()}},t,this)})),S.apply(this,arguments)}function x(t){return k.apply(this,arguments)}function k(){return k=Object(l["a"])(regeneratorRuntime.mark(function t(e){var n,i,r,s,a,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=[],i=[],e.forEach(function(t){n.push(t.songmid),i.push(t.type)}),t.next=5,L({songmids:n,songtype:i});case 5:return r=t.sent,s=r.url_mid,a=s.data.sip[0],c=s.data.midurlinfo,t.abrupt("return",{domain:a,playUrlList:c});case 10:case"end":return t.stop()}},t,this)})),k.apply(this,arguments)}function L(t){return O.apply(this,arguments)}function O(){return O=Object(l["a"])(regeneratorRuntime.mark(function t(e){var n,i,s,c,o,l,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.songmids,i=e.songtype,s=void 0===i?0:i,c="/getPlayUrl",o={url_mid:{module:"vkey.GetVkeyServer",method:"CgiGetVkey",param:{guid:"9768452544",songmid:n,songtype:s,uin:"0",loginflag:1,platform:"20"}},comm:{uin:0,format:"json",ct:20,cv:0}},l=a()({},p["b"],{g_tk:5381,loginUin:0,hostUin:0,platform:"yqq",format:"json",needNewCode:0,data:r()(o)}),t.next=6,f.a.get(c,{params:l});case 6:return u=t.sent,t.abrupt("return",u.data);case 8:case"end":return t.stop()}},t,this)})),O.apply(this,arguments)}},f910:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"switches"},t._l(t.switches,function(e,i){return n("li",{key:i,staticClass:"switch-item",class:{active:t.currentIndex===i},on:{click:function(e){return t.switchItem(i)}}},[n("span",[t._v(t._s(e))])])}),0)},r=[],s=(n("b06f"),{props:{switches:{type:Array,default:[]},currentIndex:{type:Number,default:0}},methods:{switchItem:function(t){this.$emit("switchItem",t)}}}),a=s,c=(n("38d2"),n("d2f3")),o=Object(c["a"])(a,i,r,!1,null,"45e11174",null);e["a"]=o.exports},faee:function(t,e,n){},fee2:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-box"},[n("i",{staticClass:"icon-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"},{name:"focus",rawName:"v-focus"}],staticClass:"box",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],staticClass:"icon-dismiss",on:{click:t.clear}})])},r=[];function s(t,e){var n;return function(){for(var i=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){t.apply(i,s)},e)}}var a={created:function(){var t=this;this.$watch("query",s(function(e){t.$emit("query",e)},200))},props:{placeholder:{type:String,default:"搜索歌曲、歌手"}},data:function(){return{query:""}},methods:{clear:function(){this.query=""},setQuery:function(t){this.query=t}},directives:{focus:function(t){t.focus()}}},c=a,o=(n("51ec"),n("d2f3")),l=Object(o["a"])(c,i,r,!1,null,"1eb0a1e8",null);e["a"]=l.exports}});