(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-308a984a"],{"1f23":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"singer",staticClass:"singer"},[n("listview",{ref:"list",attrs:{data:t.singerList},on:{select:t.selectSinger}}),t.singerList.length?t._e():n("loading"),n("router-view")],1)},i=[],s=n("0ec6"),o=n.n(s),c=(n("ab56"),n("612f"),n("b5aa"),n("4457")),a=n("bd31"),u=n("3173"),l=n("1cb8"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll",{ref:"scroll",staticClass:"listview",attrs:{data:t.data,probeType:t.probeType,listenScroll:t.listenScroll},on:{scroll:t.scroll}},[n("ul",{ref:"listScroll"},t._l(t.data,function(e,r){return n("li",{key:r,staticClass:"list-group"},[n("h2",{staticClass:"list-group-title"},[t._v(t._s(e.title))]),n("ul",t._l(e.items,function(e,r){return n("li",{key:r,staticClass:"list-group-item",on:{click:function(n){return t.selectItem(e)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"items.avatar"}],staticClass:"avatar",attrs:{width:"50",height:"50"}}),n("span",{staticClass:"name"},[t._v(t._s(e.name))])])}),0)])}),0),n("ul",{ref:"listShortcut",staticClass:"list-shortcut needsclick",on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.onShortcutTouchStart(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.onShortcutTouchMove(e)}}},t._l(t.shortcutList,function(e,r){return n("li",{key:r,staticClass:"item",class:{active:t.currentIndex===r},attrs:{"data-index":r}},[t._v(t._s(e))])}),0),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isFixedShow,expression:"isFixedShow"}],ref:"fixed",staticClass:"fixed",domProps:{textContent:t._s(t.fixedTitle)}})])},f=[],d=(n("a710"),n("41dd")),p=n.n(d),v=(n("a1d1"),n("e9fc")),g=n("3e2c"),m=30,x=18,S={created:function(){this.touch={},this.scrollHeightArr=[],this.probeType=3,this.listenScroll=!0},props:{data:{type:Array,default:[]}},data:function(){return{currentIndex:0,isFixedShow:!1,scrollY:0}},computed:{shortcutList:function(){return this.data.map(function(t){return t.title.substr(0,1)})},fixedTitle:function(){return this.data[this.currentIndex]?this.data[this.currentIndex].title:""}},watch:{data:function(){var t=this;this.$nextTick(function(){t._getScrollHeightArr()})},scrollY:function(){this.isFixedShow=this.scrollY<=0;var t=Math.abs(this.scrollY),e=this.scrollHeightArr.findIndex(function(e){return t>=e.start&&t<e.end});this.currentIndex=e<0?0:e,this._setFixedTransfrom(t)}},methods:{refresh:function(){this.$refs.scroll.refresh()},selectItem:function(t){this.$emit("select",t)},onShortcutTouchStart:function(t){var e=Object(g["b"])(t.target,"index");e&&(e=+e,this.touch.y1=t.touches[0].pageY,this.touch.i=e,this.currentIndex=e,this._scrollToElement(e))},onShortcutTouchMove:function(t){this.touch.y2=t.touches[0].pageY;var e=(this.touch.y2-this.touch.y1)/x|0,n=this.shortcutList.length-1,r=e+this.touch.i;r=r<0?0:r>n?n:r,this.currentIndex=r,this._scrollToElement(r)},scroll:function(t){this.scrollY=t.y},_getScrollHeightArr:function(){var t=this;this.children=this.$refs.listScroll.children,p()(this.children).forEach(function(e,n,r){var i,s;i=e.offsetTop,s=n!==r.length-1?r[n+1].offsetTop:e.offsetTop+e.offsetHeight,t.scrollHeightArr.push({start:i,end:s})})},_setFixedTransfrom:function(t){var e=this.scrollHeightArr[this.currentIndex],n=t+m-e.end;if(n=t+m-e.end>=0?"-".concat(n,"px"):"0",this._setFixedTransfrom.cacheDiff!==n){this._setFixedTransfrom.cacheDiff=n;var r=this.$refs.fixed.style;r.transform="translate3d(0, ".concat(n,", 0)")}},_scrollToElement:function(t){var e=this.$refs.listScroll.children[t];this.$refs.scroll.scrollToElement(e,300)}},components:{Scroll:v["a"]}},_=S,w=(n("eae1"),n("d2f3")),b=Object(w["a"])(_,h,f,!1,null,"04ce4176",null),y=b.exports,T=n("7f5c"),F=n("da71"),A=n("b47c"),C=n("5880"),L=n("510f"),k=10,I="热门",$={mixins:[L["b"]],created:function(){this._getSingerList()},data:function(){return{singerList:[],isShow:!1}},methods:Object(a["a"])({handelPlayList:function(t){var e=t.length>0?"60px":"";this.$refs.singer.style.bottom=e,this.$refs.list.refresh()},_getSingerList:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(T["b"])();case 3:e=t.sent,e.code===F["a"]&&(this.singerList=this._normalizeSinger(e.data.list)),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),_normalizeSinger:function(t){var e={hot:{title:I,items:[]}};t.forEach(function(t,n){n<k&&e.hot.items.push(new A["a"]({id:t.Fsinger_mid,name:t.Fsinger_name}));var r=t.Findex;e[r]||(e[r]={title:r,items:[]}),e[r].items.push(new A["a"]({id:t.Fsinger_mid,name:t.Fsinger_name}))});var n,r=[],i=[];r.push(e.hot);for(var s=o()(e),c=0;c<s.length;c++)n=s[c],"hot"!==n&&"9"!==n&&i.push(e[n]);return i.sort(function(t,e){return t.title.charCodeAt(0)-e.title.charCodeAt(0)}),r.concat(i)},selectSinger:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$router.push({path:"/singer/".concat(e.id)}),this.setSinger(e);case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},Object(C["mapMutations"])({setSinger:"SET_SINGER"})),components:{Loading:l["a"],Listview:y,singerDetail:u["default"]}},j=$,E=(n("4096"),Object(w["a"])(j,r,i,!1,null,"34cf45ee",null));e["default"]=E.exports},4096:function(t,e,n){"use strict";var r=n("e380"),i=n.n(r);i.a},"41dd":function(t,e,n){t.exports=n("92dd")},"50cd":function(t,e,n){"use strict";var r=n("4cf4"),i=n("0763");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},"8af1":function(t,e,n){"use strict";var r=n("8232"),i=n("471d"),s=n("7182"),o=n("44a7"),c=n("33ef"),a=n("3202"),u=n("50cd"),l=n("0811");i(i.S+i.F*!n("1969")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=s(t),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,x=l(f);if(g&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==x||d==Array&&c(x))for(e=a(f.length),n=new d(e);e>m;m++)u(n,m,g?v(f[m],m):f[m]);else for(h=x.call(f),n=new d;!(i=h.next()).done;m++)u(n,m,g?o(h,v,[i.value,m],!0):i.value);return n.length=m,n}})},"92dd":function(t,e,n){n("4d6c"),n("8af1"),t.exports=n("836e").Array.from},a710:function(t,e,n){"use strict";n("e0a5")("fixed",function(t){return function(){return t(this,"tt","","")}})},ab56:function(t,e,n){"use strict";var r=n("2d2c"),i=n("9102"),s=n("aa91"),o=n("201d"),c=[].sort,a=[1,2,3];r(r.P+r.F*(o(function(){a.sort(void 0)})||!o(function(){a.sort(null)})||!n("b139")(c)),"Array",{sort:function(t){return void 0===t?c.call(s(this)):c.call(s(this),i(t))}})},b139:function(t,e,n){"use strict";var r=n("201d");t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},b47c:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n("3a23");var r=n("a585"),i=function t(e){var n=e.id,i=e.name;Object(r["a"])(this,t),this.id=n,this.name=i,this.avatar="https://y.gtimg.cn/music/photo_new/T001R300x300M000".concat(n,".jpg?max_age=2592000")}},c010:function(t,e,n){},e0a5:function(t,e,n){var r=n("2d2c"),i=n("201d"),s=n("2b11"),o=/"/g,c=function(t,e,n,r){var i=String(s(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),c+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(c),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},e380:function(t,e,n){},eae1:function(t,e,n){"use strict";var r=n("c010"),i=n.n(r);i.a}}]);